(function(e){function t(t){for(var s,c,a=t[0],i=t[1],l=t[2],d=0,p=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(s=!1)}s&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},r={app:0},o=[];function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1cbd":function(e,t,n){},4601:function(e,t,n){"use strict";n("1cbd")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("f2bf"),r={class:"root"},o={class:"header"},c=Object(s["d"])(),a={class:"content"},i=Object(s["e"])("div",{class:"footer"},null,-1);function l(e,t,n,l,u,d){var p=Object(s["i"])("loginform"),f=Object(s["i"])("regform");return Object(s["f"])(),Object(s["b"])("div",r,[Object(s["e"])("div",o,[Object(s["e"])("div",{class:"link",onClick:t[1]||(t[1]=function(){return d.fregister&&d.fregister.apply(d,arguments)})},"Регистрация"),c,Object(s["e"])("div",{class:"link",onClick:t[2]||(t[2]=function(){return d.flogin&&d.flogin.apply(d,arguments)})},"Вход")]),Object(s["e"])("div",a,[0==u.register?(Object(s["f"])(),Object(s["b"])(p,{key:0})):Object(s["c"])("",!0),1==u.register?(Object(s["f"])(),Object(s["b"])(f,{key:1})):Object(s["c"])("",!0)]),i])}var u=Object(s["n"])("data-v-3f4c0e9b");Object(s["h"])("data-v-3f4c0e9b");var d={class:"login"},p=Object(s["e"])("div",{class:"caption"}," Pascal ",-1),f={class:"container"},h=Object(s["e"])("p",{class:"centercap"},"Вход",-1),b=Object(s["e"])("label",{class:"formcaption"},"Имя пользователя",-1),m=Object(s["e"])("label",{class:"formcaption"},"Пароль",-1),j=Object(s["e"])("div",{class:"buttons"},[Object(s["e"])("button",{class:"button-ok"},"ОК"),Object(s["d"])(),Object(s["e"])("button",{class:"button-cancel"},"Отмена")],-1);Object(s["g"])();var O=u((function(e,t,n,r,o,c){return Object(s["f"])(),Object(s["b"])("div",d,[p,Object(s["e"])("div",f,[h,b,Object(s["m"])(Object(s["e"])("input",{type:"text",class:"editbox",style:{borderColor:o.userStyleColor},"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.username=e}),onKeypress:t[2]||(t[2]=function(e){return c.userKeyPress(e)}),onBlur:t[3]||(t[3]=function(){return c.checkUserName&&c.checkUserName.apply(c,arguments)})},null,36),[[s["k"],o.username]]),Object(s["m"])(Object(s["e"])("label",{class:"formcaption hintst"},Object(s["j"])(o.hintusername),513),[[s["l"],""!=o.hintusername]]),m,Object(s["m"])(Object(s["e"])("input",{type:"password",class:"editbox",style:{borderColor:o.userStyleColor},"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.password=e})},null,4),[[s["k"],o.password]]),Object(s["m"])(Object(s["e"])("label",{class:"formcaption hintst"},Object(s["j"])(o.hintpassword),513),[[s["l"],""!=o.hintpassword]])]),j])})),y=(n("d3b7"),{name:"loginform",components:{},data:function(){return{username:"",password:"",hintusername:"",hintpassword:"",userStyleColor:"gray",passStyleColor:"gray"}},mounted:function(){},watch:{password:function(e){this.password=e,this.checkLenPassword()}},methods:{userKeyPress:function(e){var t=["/","\\",".",",","?",":","<",">","'",'"',"`","~","&","[","]","{","}","№"],n=e.key;if(!(t.indexOf(n)>-1))return!0;e.preventDefault()},checkUserName:function(){var e=this;if(this.username.length>=4){var t={checkUser:this.username};fetch("/control.php",{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();console.log(e.status+e.statusText)})).then((function(t){-1==t.id?(e.userStyleColor="red",e.hintusername="Пользователь не найден"):(e.userStyleColor="limegreen",e.hintusername="")}))}},checkLenPassword:function(){this.password.length<4?(this.hintpassword="Пароль слишком короткий",this.passStyleColor="red"):(this.hintpassword="",this.passStyleColor="limegreen")},flogin:function(){var e=this,t={username:this.username,password:this.password};fetch("/control.php",{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();console.log(e.status+e.statusText)})).then((function(t){if(t.autorization){var n=window.location.origin;window.location.href=n+"/index.php"}else e.passStyleColor="red",e.hintpassword="Неверный логин или пароль!"}))}}});n("8552");y.render=O,y.__scopeId="data-v-3f4c0e9b";var w=y,g=Object(s["n"])("data-v-56c72e28");Object(s["h"])("data-v-56c72e28");var v={class:"register"},k=Object(s["e"])("div",{class:"caption"}," Pascal ",-1),S={class:"container"},P=Object(s["e"])("p",{class:"centercap"},"Регистрация",-1),C=Object(s["e"])("label",{class:"formcaption"},"Имя пользователя",-1),x=Object(s["e"])("label",{class:"formcaption"},"Пароль",-1),U=Object(s["e"])("label",{class:"formcaption"},"Повторите пароль",-1),T=Object(s["e"])("div",{class:"buttons"},[Object(s["e"])("button",{class:"button-ok"},"Зарегистрироватся"),Object(s["d"])(),Object(s["e"])("button",{class:"button-cancel"},"Отмена")],-1);Object(s["g"])();var _=g((function(e,t,n,r,o,c){return Object(s["f"])(),Object(s["b"])("div",v,[k,Object(s["e"])("div",S,[P,C,Object(s["m"])(Object(s["e"])("input",{type:"text",class:"editbox",style:{borderColor:o.userStyleColor},"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.username=e}),onKeypress:t[2]||(t[2]=function(e){return c.userKeyPress(e)}),onBlur:t[3]||(t[3]=function(){return c.checkUserName&&c.checkUserName.apply(c,arguments)})},null,36),[[s["k"],o.username]]),Object(s["m"])(Object(s["e"])("label",{class:"formcaption hintst"},Object(s["j"])(o.hintusername),513),[[s["l"],""!=o.hintusername]]),x,Object(s["m"])(Object(s["e"])("input",{type:"password",class:"editbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.password=e})},null,512),[[s["k"],o.password]]),Object(s["m"])(Object(s["e"])("label",{class:"formcaption hintst"},Object(s["j"])(o.hintpassword),513),[[s["l"],""!=o.hintpassword]]),U,Object(s["m"])(Object(s["e"])("input",{type:"password",class:"editbox",style:{borderColor:o.passStyleColor},"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.confirmPassword=e})},null,4),[[s["k"],o.confirmPassword]])]),T])})),N={name:"regform",components:{},data:function(){return{username:"",password:"",confirmPassword:"",hintusername:"",hintpassword:"",userStyleColor:"gray",passStyleColor:"gray"}},mounted:function(){},watch:{password:function(e){this.password=e,this.checkLenPassword()},confirmPassword:function(e){this.confirmPassword=e,this.checkIdentPass()}},methods:{userKeyPress:function(e){var t=["/","\\",".",",","?",":","<",">","'",'"',"`","~","&","[","]","{","}","№"],n=e.key;if(!(t.indexOf(n)>-1))return!0;e.preventDefault()},checkUserName:function(){this.username.length<4?(this.userStyleColor="red",this.hintusername="Имя пользователя слишком короткое"):(this.userStyleColor="limegreen",this.hintusername=""),this.username.length>100&&(this.userStyleColor="red",this.hintusername="Имя пользователя слишком длинное")},checkLenPassword:function(){this.password.length<4?this.hintpassword="Пароль слишком короткий":this.hintpassword="",this.password.length>200&&(this.hintpassword="Пароль слишком длинный")},checkIdentPass:function(){this.password==this.confirmPassword?this.passStyleColor="limegreen":this.passStyleColor="red"},fregister:function(){var e=this,t={username:this.username,password:this.password,confirmPassword:this.confirmPassword};fetch("/control.php",{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();console.log(e.status+e.statusText)})).then((function(t){if(t.id>-1)if(t.autorization){var n=window.location.origin;window.location.href=n+"/index.php"}else e.passStyleColor="red",e.hintpassword="Ошибка авторизации";else e.passStyleColor="red",e.hintpassword="Ошибка создания пользователя"}))}}};n("4601");N.render=_,N.__scopeId="data-v-56c72e28";var K=N,J={name:"App",components:{loginform:w,regform:K},data:function(){return{register:!1}},mounted:function(){},methods:{flogin:function(){this.register=!1},fregister:function(){this.register=!0}}};n("e2fd");J.render=l;var V=J;Object(s["a"])(V).mount("#app")},8552:function(e,t,n){"use strict";n("de7e")},a6bd:function(e,t,n){},de7e:function(e,t,n){},e2fd:function(e,t,n){"use strict";n("a6bd")}});
//# sourceMappingURL=app.ee50b3d9.js.map